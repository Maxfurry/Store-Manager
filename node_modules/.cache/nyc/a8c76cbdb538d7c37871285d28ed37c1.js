'use strict';var cov_2kosp5riy0=function(){var path="C:\\Users\\Peerless\\Documents\\mine\\nodes\\Bootcamp\\Store-Manager\\src\\middlewares\\functions.js",hash="b2fbb822ffa03a426e95a04a0b95685103e49e94",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"C:\\Users\\Peerless\\Documents\\mine\\nodes\\Bootcamp\\Store-Manager\\src\\middlewares\\functions.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:7,column:10},end:{line:7,column:23}},"2":{start:{line:9,column:11},end:{line:9,column:38}},"3":{start:{line:11,column:39},end:{line:11,column:93}},"4":{start:{line:14,column:15},end:{line:26,column:1}},"5":{start:{line:16,column:17},end:{line:16,column:89}},"6":{start:{line:18,column:23},end:{line:18,column:43}},"7":{start:{line:21,column:2},end:{line:23,column:3}},"8":{start:{line:22,column:4},end:{line:22,column:26}},"9":{start:{line:25,column:2},end:{line:25,column:28}},"10":{start:{line:29,column:17},end:{line:63,column:1}},"11":{start:{line:31,column:13},end:{line:31,column:31}},"12":{start:{line:34,column:2},end:{line:36,column:3}},"13":{start:{line:35,column:4},end:{line:35,column:19}},"14":{start:{line:38,column:20},end:{line:38,column:24}},"15":{start:{line:41,column:2},end:{line:43,column:3}},"16":{start:{line:42,column:4},end:{line:42,column:19}},"17":{start:{line:45,column:2},end:{line:45,column:31}},"18":{start:{line:48,column:2},end:{line:50,column:3}},"19":{start:{line:49,column:4},end:{line:49,column:19}},"20":{start:{line:53,column:2},end:{line:53,column:107}},"21":{start:{line:55,column:20},end:{line:55,column:38}},"22":{start:{line:58,column:2},end:{line:60,column:3}},"23":{start:{line:59,column:4},end:{line:59,column:19}},"24":{start:{line:62,column:2},end:{line:62,column:21}},"25":{start:{line:66,column:17},end:{line:92,column:1}},"26":{start:{line:67,column:13},end:{line:67,column:31}},"27":{start:{line:70,column:2},end:{line:72,column:3}},"28":{start:{line:71,column:4},end:{line:71,column:19}},"29":{start:{line:74,column:20},end:{line:74,column:36}},"30":{start:{line:76,column:2},end:{line:78,column:3}},"31":{start:{line:77,column:4},end:{line:77,column:19}},"32":{start:{line:81,column:2},end:{line:81,column:26}},"33":{start:{line:82,column:2},end:{line:82,column:107}},"34":{start:{line:84,column:20},end:{line:84,column:38}},"35":{start:{line:87,column:2},end:{line:89,column:3}},"36":{start:{line:88,column:4},end:{line:88,column:19}},"37":{start:{line:91,column:2},end:{line:91,column:21}},"38":{start:{line:94,column:0},end:{line:94,column:89}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:11,column:9},end:{line:11,column:31}},loc:{start:{line:11,column:37},end:{line:11,column:95}},line:11},"1":{name:"readFile",decl:{start:{line:14,column:24},end:{line:14,column:32}},loc:{start:{line:14,column:47},end:{line:26,column:1}},line:14},"2":{name:"updateFile",decl:{start:{line:29,column:26},end:{line:29,column:36}},loc:{start:{line:29,column:76},end:{line:63,column:1}},line:29},"3":{name:"deleteFile",decl:{start:{line:66,column:26},end:{line:66,column:36}},loc:{start:{line:66,column:59},end:{line:92,column:1}},line:66}},branchMap:{"0":{loc:{start:{line:11,column:46},end:{line:11,column:92}},type:"cond-expr",locations:[{start:{line:11,column:70},end:{line:11,column:73}},{start:{line:11,column:76},end:{line:11,column:92}}],line:11},"1":{loc:{start:{line:11,column:46},end:{line:11,column:67}},type:"binary-expr",locations:[{start:{line:11,column:46},end:{line:11,column:49}},{start:{line:11,column:53},end:{line:11,column:67}}],line:11},"2":{loc:{start:{line:21,column:2},end:{line:23,column:3}},type:"if",locations:[{start:{line:21,column:2},end:{line:23,column:3}},{start:{line:21,column:2},end:{line:23,column:3}}],line:21},"3":{loc:{start:{line:34,column:2},end:{line:36,column:3}},type:"if",locations:[{start:{line:34,column:2},end:{line:36,column:3}},{start:{line:34,column:2},end:{line:36,column:3}}],line:34},"4":{loc:{start:{line:41,column:2},end:{line:43,column:3}},type:"if",locations:[{start:{line:41,column:2},end:{line:43,column:3}},{start:{line:41,column:2},end:{line:43,column:3}}],line:41},"5":{loc:{start:{line:41,column:6},end:{line:41,column:43}},type:"binary-expr",locations:[{start:{line:41,column:6},end:{line:41,column:22}},{start:{line:41,column:26},end:{line:41,column:43}}],line:41},"6":{loc:{start:{line:48,column:2},end:{line:50,column:3}},type:"if",locations:[{start:{line:48,column:2},end:{line:50,column:3}},{start:{line:48,column:2},end:{line:50,column:3}}],line:48},"7":{loc:{start:{line:48,column:6},end:{line:48,column:39}},type:"binary-expr",locations:[{start:{line:48,column:6},end:{line:48,column:18}},{start:{line:48,column:22},end:{line:48,column:39}}],line:48},"8":{loc:{start:{line:58,column:2},end:{line:60,column:3}},type:"if",locations:[{start:{line:58,column:2},end:{line:60,column:3}},{start:{line:58,column:2},end:{line:60,column:3}}],line:58},"9":{loc:{start:{line:70,column:2},end:{line:72,column:3}},type:"if",locations:[{start:{line:70,column:2},end:{line:72,column:3}},{start:{line:70,column:2},end:{line:72,column:3}}],line:70},"10":{loc:{start:{line:76,column:2},end:{line:78,column:3}},type:"if",locations:[{start:{line:76,column:2},end:{line:78,column:3}},{start:{line:76,column:2},end:{line:78,column:3}}],line:76},"11":{loc:{start:{line:87,column:2},end:{line:89,column:3}},type:"if",locations:[{start:{line:87,column:2},end:{line:89,column:3}},{start:{line:87,column:2},end:{line:89,column:3}}],line:87}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_2kosp5riy0.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});var _fs=(cov_2kosp5riy0.s[1]++,require('fs'));var _fs2=(cov_2kosp5riy0.s[2]++,_interopRequireDefault(_fs));function _interopRequireDefault(obj){cov_2kosp5riy0.f[0]++;cov_2kosp5riy0.s[3]++;return(cov_2kosp5riy0.b[1][0]++,obj)&&(cov_2kosp5riy0.b[1][1]++,obj.__esModule)?(cov_2kosp5riy0.b[0][0]++,obj):(cov_2kosp5riy0.b[0][1]++,{default:obj});}// Function to read file
cov_2kosp5riy0.s[4]++;var readFile=function readFile(fileName,Id){cov_2kosp5riy0.f[1]++;//  Read file
var fileData=(cov_2kosp5riy0.s[5]++,_fs2.default.readFileSync('src/model/db/'+fileName+'.json','utf-8'));var arrayOfObjects=(cov_2kosp5riy0.s[6]++,JSON.parse(fileData));// Checks if a specific data was requested
cov_2kosp5riy0.s[7]++;if(!Id){cov_2kosp5riy0.b[2][0]++;cov_2kosp5riy0.s[8]++;return arrayOfObjects;}else{cov_2kosp5riy0.b[2][1]++;}cov_2kosp5riy0.s[9]++;return arrayOfObjects[Id];};// Function to write or update file
cov_2kosp5riy0.s[10]++;var updateFile=function updateFile(fileName,dataToAdd,whereToAdd,flag){cov_2kosp5riy0.f[2]++;// Get specific data
var data=(cov_2kosp5riy0.s[11]++,readFile(fileName));// Ensures getting data was successfull
cov_2kosp5riy0.s[12]++;if(!data){cov_2kosp5riy0.b[3][0]++;cov_2kosp5riy0.s[13]++;return'error';}else{cov_2kosp5riy0.b[3][1]++;}var updatedData=(cov_2kosp5riy0.s[14]++,data);//  Flag to check create
cov_2kosp5riy0.s[15]++;if((cov_2kosp5riy0.b[5][0]++,data[whereToAdd])&&(cov_2kosp5riy0.b[5][1]++,flag==='create')){cov_2kosp5riy0.b[4][0]++;cov_2kosp5riy0.s[16]++;return'exist';}else{cov_2kosp5riy0.b[4][1]++;}cov_2kosp5riy0.s[17]++;data[whereToAdd]=dataToAdd;// Flag to check update
cov_2kosp5riy0.s[18]++;if((cov_2kosp5riy0.b[7][0]++,!updatedData)&&(cov_2kosp5riy0.b[7][1]++,flag==='update')){cov_2kosp5riy0.b[6][0]++;cov_2kosp5riy0.s[19]++;return'error';}else{cov_2kosp5riy0.b[6][1]++;}// Write to the file
cov_2kosp5riy0.s[20]++;_fs2.default.writeFileSync('src/model/db/'+fileName+'.json',JSON.stringify(data,null,2),'utf-8');var updatedFile=(cov_2kosp5riy0.s[21]++,readFile(fileName));// Ensures data was written
cov_2kosp5riy0.s[22]++;if(updatedData===updatedFile){cov_2kosp5riy0.b[8][0]++;cov_2kosp5riy0.s[23]++;return'error';}else{cov_2kosp5riy0.b[8][1]++;}cov_2kosp5riy0.s[24]++;return updatedData;};// Function to delete data from file
cov_2kosp5riy0.s[25]++;var deleteFile=function deleteFile(fileName,deleteWhat){cov_2kosp5riy0.f[3]++;var data=(cov_2kosp5riy0.s[26]++,readFile(fileName));// Ensures getting data was successfull
cov_2kosp5riy0.s[27]++;if(!data){cov_2kosp5riy0.b[9][0]++;cov_2kosp5riy0.s[28]++;return'error';}else{cov_2kosp5riy0.b[9][1]++;}var deletedData=(cov_2kosp5riy0.s[29]++,data[deleteWhat]);cov_2kosp5riy0.s[30]++;if(!deletedData){cov_2kosp5riy0.b[10][0]++;cov_2kosp5riy0.s[31]++;return'error';}else{cov_2kosp5riy0.b[10][1]++;}// Delete the data
cov_2kosp5riy0.s[32]++;delete data[deleteWhat];cov_2kosp5riy0.s[33]++;_fs2.default.writeFileSync('src/model/db/'+fileName+'.json',JSON.stringify(data,null,2),'utf-8');var deletedFile=(cov_2kosp5riy0.s[34]++,readFile(fileName));// Ensures data was deleted
cov_2kosp5riy0.s[35]++;if(data===deletedFile){cov_2kosp5riy0.b[11][0]++;cov_2kosp5riy0.s[36]++;return'error';}else{cov_2kosp5riy0.b[11][1]++;}cov_2kosp5riy0.s[37]++;return deletedData;};cov_2kosp5riy0.s[38]++;exports.default={readFile:readFile,updateFile:updateFile,deleteFile:deleteFile};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZ1bmN0aW9ucy5qcyJdLCJuYW1lcyI6WyJyZWFkRmlsZSIsImZpbGVOYW1lIiwiSWQiLCJmaWxlRGF0YSIsImZzIiwicmVhZEZpbGVTeW5jIiwiYXJyYXlPZk9iamVjdHMiLCJKU09OIiwicGFyc2UiLCJ1cGRhdGVGaWxlIiwiZGF0YVRvQWRkIiwid2hlcmVUb0FkZCIsImZsYWciLCJkYXRhIiwidXBkYXRlZERhdGEiLCJ3cml0ZUZpbGVTeW5jIiwic3RyaW5naWZ5IiwidXBkYXRlZEZpbGUiLCJkZWxldGVGaWxlIiwiZGVsZXRlV2hhdCIsImRlbGV0ZWREYXRhIiwiZGVsZXRlZEZpbGUiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7Ozs7QUFFQTtBQUNBLElBQU1BLFdBQVcsU0FBWEEsUUFBVyxDQUFDQyxRQUFELEVBQVdDLEVBQVgsRUFBa0I7QUFDakM7QUFDQSxNQUFNQyxXQUFXQyxhQUFHQyxZQUFILG1CQUFnQ0osUUFBaEMsWUFBaUQsT0FBakQsQ0FBakI7O0FBRUEsTUFBTUssaUJBQWlCQyxLQUFLQyxLQUFMLENBQVdMLFFBQVgsQ0FBdkI7O0FBRUE7QUFDQSxNQUFJLENBQUNELEVBQUwsRUFBUztBQUNQLFdBQU9JLGNBQVA7QUFDRDs7QUFFRCxTQUFPQSxlQUFlSixFQUFmLENBQVA7QUFDRCxDQVpEOztBQWNBO0FBQ0EsSUFBTU8sYUFBYSxTQUFiQSxVQUFhLENBQUNSLFFBQUQsRUFBV1MsU0FBWCxFQUFzQkMsVUFBdEIsRUFBa0NDLElBQWxDLEVBQTJDO0FBQzVEO0FBQ0EsTUFBTUMsT0FBT2IsU0FBU0MsUUFBVCxDQUFiOztBQUVBO0FBQ0EsTUFBSSxDQUFDWSxJQUFMLEVBQVc7QUFDVCxXQUFPLE9BQVA7QUFDRDs7QUFFRCxNQUFNQyxjQUFjRCxJQUFwQjs7QUFFQTtBQUNBLE1BQUlBLEtBQUtGLFVBQUwsS0FBb0JDLFNBQVMsUUFBakMsRUFBMkM7QUFDekMsV0FBTyxPQUFQO0FBQ0Q7O0FBRURDLE9BQUtGLFVBQUwsSUFBbUJELFNBQW5COztBQUVBO0FBQ0EsTUFBSSxDQUFDSSxXQUFELElBQWdCRixTQUFTLFFBQTdCLEVBQXVDO0FBQ3JDLFdBQU8sT0FBUDtBQUNEOztBQUVEO0FBQ0FSLGVBQUdXLGFBQUgsbUJBQWlDZCxRQUFqQyxZQUFrRE0sS0FBS1MsU0FBTCxDQUFlSCxJQUFmLEVBQXFCLElBQXJCLEVBQTJCLENBQTNCLENBQWxELEVBQWlGLE9BQWpGOztBQUVBLE1BQU1JLGNBQWNqQixTQUFTQyxRQUFULENBQXBCOztBQUVBO0FBQ0EsTUFBSWEsZ0JBQWdCRyxXQUFwQixFQUFpQztBQUMvQixXQUFPLE9BQVA7QUFDRDs7QUFFRCxTQUFPSCxXQUFQO0FBQ0QsQ0FsQ0Q7O0FBb0NBO0FBQ0EsSUFBTUksYUFBYSxTQUFiQSxVQUFhLENBQUNqQixRQUFELEVBQVdrQixVQUFYLEVBQTBCO0FBQzNDLE1BQU1OLE9BQU9iLFNBQVNDLFFBQVQsQ0FBYjs7QUFFQTtBQUNBLE1BQUksQ0FBQ1ksSUFBTCxFQUFXO0FBQ1QsV0FBTyxPQUFQO0FBQ0Q7O0FBRUQsTUFBTU8sY0FBY1AsS0FBS00sVUFBTCxDQUFwQjs7QUFFQSxNQUFJLENBQUNDLFdBQUwsRUFBa0I7QUFDaEIsV0FBTyxPQUFQO0FBQ0Q7O0FBRUQ7QUFDQSxTQUFPUCxLQUFLTSxVQUFMLENBQVA7QUFDQWYsZUFBR1csYUFBSCxtQkFBaUNkLFFBQWpDLFlBQWtETSxLQUFLUyxTQUFMLENBQWVILElBQWYsRUFBcUIsSUFBckIsRUFBMkIsQ0FBM0IsQ0FBbEQsRUFBaUYsT0FBakY7O0FBRUEsTUFBTVEsY0FBY3JCLFNBQVNDLFFBQVQsQ0FBcEI7O0FBRUE7QUFDQSxNQUFJWSxTQUFTUSxXQUFiLEVBQTBCO0FBQ3hCLFdBQU8sT0FBUDtBQUNEOztBQUVELFNBQU9ELFdBQVA7QUFDRCxDQTFCRDs7a0JBNEJlLEVBQUVwQixrQkFBRixFQUFZUyxzQkFBWixFQUF3QlMsc0JBQXhCLEUiLCJmaWxlIjoiZnVuY3Rpb25zLmpzIiwic291cmNlUm9vdCI6IkM6L1VzZXJzL1BlZXJsZXNzL0RvY3VtZW50cy9taW5lL25vZGVzL0Jvb3RjYW1wL1N0b3JlLU1hbmFnZXIvc3JjL21pZGRsZXdhcmVzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZzIGZyb20gJ2ZzJztcclxuXHJcbi8vIEZ1bmN0aW9uIHRvIHJlYWQgZmlsZVxyXG5jb25zdCByZWFkRmlsZSA9IChmaWxlTmFtZSwgSWQpID0+IHtcclxuICAvLyAgUmVhZCBmaWxlXHJcbiAgY29uc3QgZmlsZURhdGEgPSBmcy5yZWFkRmlsZVN5bmMoYHNyYy9tb2RlbC9kYi8ke2ZpbGVOYW1lfS5qc29uYCwgJ3V0Zi04Jyk7XHJcblxyXG4gIGNvbnN0IGFycmF5T2ZPYmplY3RzID0gSlNPTi5wYXJzZShmaWxlRGF0YSk7XHJcblxyXG4gIC8vIENoZWNrcyBpZiBhIHNwZWNpZmljIGRhdGEgd2FzIHJlcXVlc3RlZFxyXG4gIGlmICghSWQpIHtcclxuICAgIHJldHVybiBhcnJheU9mT2JqZWN0cztcclxuICB9XHJcblxyXG4gIHJldHVybiBhcnJheU9mT2JqZWN0c1tJZF07XHJcbn07XHJcblxyXG4vLyBGdW5jdGlvbiB0byB3cml0ZSBvciB1cGRhdGUgZmlsZVxyXG5jb25zdCB1cGRhdGVGaWxlID0gKGZpbGVOYW1lLCBkYXRhVG9BZGQsIHdoZXJlVG9BZGQsIGZsYWcpID0+IHtcclxuICAvLyBHZXQgc3BlY2lmaWMgZGF0YVxyXG4gIGNvbnN0IGRhdGEgPSByZWFkRmlsZShmaWxlTmFtZSk7XHJcblxyXG4gIC8vIEVuc3VyZXMgZ2V0dGluZyBkYXRhIHdhcyBzdWNjZXNzZnVsbFxyXG4gIGlmICghZGF0YSkge1xyXG4gICAgcmV0dXJuICdlcnJvcic7XHJcbiAgfVxyXG5cclxuICBjb25zdCB1cGRhdGVkRGF0YSA9IGRhdGE7XHJcblxyXG4gIC8vICBGbGFnIHRvIGNoZWNrIGNyZWF0ZVxyXG4gIGlmIChkYXRhW3doZXJlVG9BZGRdICYmIGZsYWcgPT09ICdjcmVhdGUnKSB7XHJcbiAgICByZXR1cm4gJ2V4aXN0JztcclxuICB9XHJcblxyXG4gIGRhdGFbd2hlcmVUb0FkZF0gPSBkYXRhVG9BZGQ7XHJcblxyXG4gIC8vIEZsYWcgdG8gY2hlY2sgdXBkYXRlXHJcbiAgaWYgKCF1cGRhdGVkRGF0YSAmJiBmbGFnID09PSAndXBkYXRlJykge1xyXG4gICAgcmV0dXJuICdlcnJvcic7XHJcbiAgfVxyXG5cclxuICAvLyBXcml0ZSB0byB0aGUgZmlsZVxyXG4gIGZzLndyaXRlRmlsZVN5bmMoYHNyYy9tb2RlbC9kYi8ke2ZpbGVOYW1lfS5qc29uYCwgSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMiksICd1dGYtOCcpO1xyXG5cclxuICBjb25zdCB1cGRhdGVkRmlsZSA9IHJlYWRGaWxlKGZpbGVOYW1lKTtcclxuXHJcbiAgLy8gRW5zdXJlcyBkYXRhIHdhcyB3cml0dGVuXHJcbiAgaWYgKHVwZGF0ZWREYXRhID09PSB1cGRhdGVkRmlsZSkge1xyXG4gICAgcmV0dXJuICdlcnJvcic7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdXBkYXRlZERhdGE7XHJcbn07XHJcblxyXG4vLyBGdW5jdGlvbiB0byBkZWxldGUgZGF0YSBmcm9tIGZpbGVcclxuY29uc3QgZGVsZXRlRmlsZSA9IChmaWxlTmFtZSwgZGVsZXRlV2hhdCkgPT4ge1xyXG4gIGNvbnN0IGRhdGEgPSByZWFkRmlsZShmaWxlTmFtZSk7XHJcblxyXG4gIC8vIEVuc3VyZXMgZ2V0dGluZyBkYXRhIHdhcyBzdWNjZXNzZnVsbFxyXG4gIGlmICghZGF0YSkge1xyXG4gICAgcmV0dXJuICdlcnJvcic7XHJcbiAgfVxyXG5cclxuICBjb25zdCBkZWxldGVkRGF0YSA9IGRhdGFbZGVsZXRlV2hhdF07XHJcblxyXG4gIGlmICghZGVsZXRlZERhdGEpIHtcclxuICAgIHJldHVybiAnZXJyb3InO1xyXG4gIH1cclxuXHJcbiAgLy8gRGVsZXRlIHRoZSBkYXRhXHJcbiAgZGVsZXRlIGRhdGFbZGVsZXRlV2hhdF07XHJcbiAgZnMud3JpdGVGaWxlU3luYyhgc3JjL21vZGVsL2RiLyR7ZmlsZU5hbWV9Lmpzb25gLCBKU09OLnN0cmluZ2lmeShkYXRhLCBudWxsLCAyKSwgJ3V0Zi04Jyk7XHJcblxyXG4gIGNvbnN0IGRlbGV0ZWRGaWxlID0gcmVhZEZpbGUoZmlsZU5hbWUpO1xyXG5cclxuICAvLyBFbnN1cmVzIGRhdGEgd2FzIGRlbGV0ZWRcclxuICBpZiAoZGF0YSA9PT0gZGVsZXRlZEZpbGUpIHtcclxuICAgIHJldHVybiAnZXJyb3InO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGRlbGV0ZWREYXRhO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgeyByZWFkRmlsZSwgdXBkYXRlRmlsZSwgZGVsZXRlRmlsZSB9O1xyXG4iXX0=